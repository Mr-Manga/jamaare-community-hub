<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jama'are Hub Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
<style>
  body { font-family: 'Inter', sans-serif; background: #f7f9fc; }
  .card { @apply bg-white rounded-xl shadow-lg p-6 transition-transform transform hover:-translate-y-1 hover:shadow-2xl; }
  .glass { background: rgba(255,255,255,0.6); backdrop-filter: blur(6px); }
  .floating-assistant { position: fixed; bottom: 20px; right: 20px; width: 300px; max-width: 90%; z-index: 50; }
</style>
</head>
<body class="overflow-x-hidden">

<!-- HEADER -->
<header class="bg-green-600 text-white py-6 shadow-md sticky top-0 z-40">
  <div class="container mx-auto px-6 flex justify-between items-center">
    <h1 class="font-bold text-xl">Jama'are Hub</h1>
    <button id="darkToggle" class="px-4 py-2 rounded border border-white">Dark</button>
  </div>
</header>

<!-- MAIN SECTIONS -->
<main class="container mx-auto px-6 py-8 space-y-12">

  <!-- Resources -->
  <section id="resources">
    <h2 class="text-2xl font-bold mb-4">Education Resources</h2>
    <div class="grid md:grid-cols-3 gap-6" id="resourcesGrid"></div>
  </section>

  <!-- Sponsors -->
  <section id="sponsors">
    <h2 class="text-2xl font-bold mb-4">Sponsor a Student</h2>
    <div class="grid md:grid-cols-3 gap-6" id="sponsorGrid"></div>
  </section>

  <!-- Quick Quizzes -->
  <section id="quizzes">
    <h2 class="text-2xl font-bold mb-4">Quick Quizzes</h2>
    <div id="quizContainer" class="space-y-4"></div>
  </section>

  <!-- Admin Dashboard -->
  <section id="admin">
    <h2 class="text-2xl font-bold mb-4">Admin Dashboard</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <div class="card text-center">
        <div class="text-sm text-gray-500">Total Visits</div>
        <div class="text-2xl font-bold">12,450</div>
      </div>
      <div class="card text-center">
        <div class="text-sm text-gray-500">Total Donations</div>
        <div class="text-2xl font-bold">₦132,500</div>
      </div>
      <div class="card">
        <canvas id="visitsChart"></canvas>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact">
    <h2 class="text-2xl font-bold mb-4">Contact & Volunteer</h2>
    <form id="contactForm" class="space-y-3">
      <input id="cname" class="w-full p-3 border rounded" placeholder="Your name" required>
      <input id="cemail" type="email" class="w-full p-3 border rounded" placeholder="Email" required>
      <textarea id="cmsg" rows="4" class="w-full p-3 border rounded" placeholder="Message" required></textarea>
      <button id="sendContact" class="px-5 py-2 rounded bg-green-600 text-white">Send</button>
      <div id="contactStatus" class="text-sm text-gray-600 mt-2"></div>
    </form>
  </section>

</main>

<!-- Floating AI Assistant -->
<div class="floating-assistant glass p-4 rounded-xl shadow-lg">
  <h3 class="font-bold mb-2">Study Assistant</h3>
  <textarea id="assistantInput" rows="3" class="w-full p-2 border rounded" placeholder="Ask a question..."></textarea>
  <button id="assistantAsk" class="mt-2 px-4 py-2 rounded bg-green-600 text-white w-full">Ask</button>
  <div id="assistantOutput" class="mt-2 text-sm text-gray-700"></div>
</div>

<!-- Footer -->
<footer class="py-6 text-center text-sm text-gray-500">Made for Jama'are Community • 2025 • Built by Manga</footer>

<!-- Scripts -->
<script>
// Dark mode toggle
const darkToggle = document.getElementById('darkToggle');
darkToggle.addEventListener('click', ()=>{
  document.body.classList.toggle('bg-gray-900');
  document.body.classList.toggle('text-white');
});

// Sample data
const resources = [
  {title:'WAEC Math Past Qs',exam:'WAEC',subject:'Math',url:'#'},
  {title:'NECO Biology',exam:'NECO',subject:'Biology',url:'#'},
  {title:'JAMB Physics',exam:'JAMB',subject:'Physics',url:'#'}
];
const sponsors = [
  {name:'Aisha',level:'SS3',needs:5000,raised:2250},
  {name:'Musa',level:'SS2',needs:3000,raised:1500},
  {name:'Zainab',level:'SS3',needs:8000,raised:4000}
];
const quizzes = [{q:'2+3',a:'5'},{q:'Capital of Nigeria',a:'Abuja'}];

// Render resources
const resourcesGrid = document.getElementById('resourcesGrid');
resources.forEach(r=>{
  const card = document.createElement('div');
  card.className='card';
  card.innerHTML=`<div class="font-semibold">${r.title}</div><div class="text-sm text-gray-500">${r.exam} • ${r.subject}</div><a href="${r.url}" class="mt-2 inline-block px-3 py-1 rounded bg-green-600 text-white">Open</a>`;
  resourcesGrid.appendChild(card);
});

// Render sponsors
const sponsorGrid = document.getElementById('sponsorGrid');
sponsors.forEach(s=>{
  const pct = Math.round((s.raised/s.needs)*100);
  const card = document.createElement('div');
  card.className='card';
  card.innerHTML=`<div class="font-semibold">${s.name} (${s.level})</div>
  <div class="text-sm text-gray-500">₦${s.raised} / ₦${s.needs} (${pct}%) funded</div>`;
  sponsorGrid.appendChild(card);
});

// Quick quizzes
const quizContainer = document.getElementById('quizContainer');
quizzes.forEach((q,i)=>{
  const div=document.createElement('div');
  div.className='card';
  div.innerHTML=`<div class="font-semibold">${q.q}</div>
  <input id="q${i}" class="mt-2 p-2 border rounded w-full" placeholder="Answer" />
  <button data-i="${i}" class="mt-2 px-3 py-1 rounded bg-green-600 text-white checkBtn">Check</button>
  <div id="qr${i}" class="mt-2 text-sm"></div>`;
  quizContainer.appendChild(div);
});
quizContainer.addEventListener('click', e=>{
  if(e.target.classList.contains('checkBtn')){
    const i=e.target.dataset.i;
    const ans=(document.getElementById('q'+i).value||'').trim().toLowerCase();
    document.getElementById('qr'+i).textContent = ans === quizzes[i].a.toLowerCase() ? 'Correct!' : 'Try again.';
  }
});

// Admin chart
const ctx = document.getElementById('visitsChart');
new Chart(ctx,{type:'line',data:{labels:['Jan','Feb','Mar','Apr','May','Jun'],datasets:[{label:'Visits',data:[120,300,200,450,380,520],borderColor:'#10b981',backgroundColor:'rgba(16,185,129,0.1)'}]},options:{responsive:true,plugins:{legend:{display:false}}}});

// Local AI assistant
document.getElementById('assistantAsk').addEventListener('click', ()=>{
  const q=document.getElementById('assistantInput').value.toLowerCase();
  const out=document.getElementById('assistantOutput');
  const answers={'photosynthesis':'Process plants convert sunlight to food.','osmosis':'Water moves through a membrane.'};
  out.textContent=answers[q]||'I do not know yet. Try another question.';
});

// Contact form
document.getElementById('sendContact').addEventListener('click', async e=>{
  e.preventDefault();
  const name=document.getElementById('cname').value,email=document.getElementById('cemail').value,msg=document.getElementById('cmsg').value;
  const status=document.getElementById('contactStatus');
  if(!name||!email||!msg){status.textContent='Fill all fields.';return;}
  status.textContent='Sending...';
  try{status.textContent='Message sent!';}catch(err){status.textContent='Error.';}
});
</script>
</body>
</html>
